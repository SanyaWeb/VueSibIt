(function(t){function e(e){for(var i,o,a=e[0],l=e[1],u=e[2],c=0,f=[];c<a.length;c++)o=a[c],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&f.push(r[o][0]),r[o]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);m&&m(e);while(f.length)f.shift()();return n.push.apply(n,u||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],i=!0,a=1;a<s.length;a++){var l=s[a];0!==r[l]&&(i=!1)}i&&(n.splice(e--,1),t=o(o.s=s[0]))}return t}var i={},r={app:0},n=[];function o(e){if(i[e])return i[e].exports;var s=i[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=i,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(s,i,function(e){return t[e]}.bind(null,i));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],l=a.push.bind(a);a.push=e,a=a.slice();for(var u=0;u<a.length;u++)e(a[u]);var m=l;n.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"56d7":function(t,e,s){"use strict";s.r(e);s("e623"),s("e379"),s("5dc8"),s("37e1");var i=s("2b0e"),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s(t.layout,{tag:"component"})],1)},n=[],o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mainLayout"},[s("div",{staticClass:"center-block"},[s("InvestForm")],1)])},a=[],l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"invest-now"},[t._m(0),s("form",{staticClass:"invest-form",attrs:{id:"invest-form"}},[s("div",{staticClass:"invest-form__fields"},[s("InvestSum"),s("LimitBlock")],1),s("Buttons")],1)])},u=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"invest-now__header"},[s("p",{staticClass:"invest-now__title"},[t._v("Инвестировать сейчас")])])}],m=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"invest-form__field"},[s("label",{staticClass:"invest-form__row"},[t._m(0),s("div",{staticClass:"invest-form__right-col"},[s("div",{staticClass:"invest-form__field-val invest-form__field-val_invest"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.sumInv,expression:"sumInv"}],staticClass:"invest-form__field-input",attrs:{type:"text",name:"sumInv",autocomplete:"off"},domProps:{value:t.sumInv},on:{input:[function(e){e.target.composing||(t.sumInv=e.target.value)},t.sumInvInput]}}),s("div",{staticClass:"error-message"})])])])]),s("div",{staticClass:"invest-form__field"},[s("label",{staticClass:"invest-form__row"},[t._m(1),s("div",{staticClass:"invest-form__right-col"},[s("div",{staticClass:"invest-form__field-val invest-form__field-val_multiplier"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.mult,expression:"mult"}],staticClass:"invest-form__field-input invest-form__field-input_slider_mult",attrs:{type:"text",name:"mult",autocomplete:"off"},domProps:{value:t.mult},on:{input:function(e){e.target.composing||(t.mult=e.target.value)}}}),s("div",{staticClass:"error-message"})]),s("span",{staticClass:"invest-form__real-invest"},[t._v(" = "),s("span",{staticClass:"invest-form__real-invest-val"},[t._v(t._s(t.realInvest))])])]),t._m(2)])])])},c=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"invest-form__left-col"},[s("span",{staticClass:"invest-form__field-name"},[t._v("Сумма инвестиции")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"invest-form__left-col"},[s("span",{staticClass:"invest-form__field-name"},[t._v("Мультипликатор")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"invest-form-mult-slider-wrap"},[s("div",{attrs:{id:"invest-form-mult-slider"}},[s("div",{staticClass:"slider-scale"})])])}],f=(s("7db0"),s("4160"),s("a9e3"),s("ac1f"),s("5319"),s("1157")),v=s.n(f),d={data:function(){return{fieldErrorTimeOut:null,investForm:null}},computed:{sumInv:{get:function(){var t=v()("#invest-form").find("input[name=sumInv]");return this.hideError(t),this.$store.getters.getField.result.valid||this.showError(this.$store.getters.getField,t,4e3),this.$store.getters.fieldVal},set:function(t){this.$store.commit("formatField",{value:t,thisInput:this.investForm.find("input[name=sumInv]").get(0)})}},mult:{get:function(){var t=v()("#invest-form").find("input[name=mult]");return this.hideError(t),this.$store.getters.multField.result.valid||this.showError(this.$store.getters.multField,t,4e3),this.$store.getters.multVal},set:function(t){this.$store.commit("multFormatField",{value:t,thisInput:this.investForm.find("input[name=mult]").get(0)})}},realInvest:function(){if(this.mult&&this.sumInv){var t=this.mult.replace(/[^0-9+]/g,""),e=this.sumInv.replace(/[^0-9+]/g,"");return String(Number(t)*Number(e)).replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1 ")}return 0}},components:{},methods:{showError:function(t,e){var s=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.hideAllErrors();var r=e.siblings(".error-message");r.html(t.result.error),r.addClass("visible"),e.addClass("not-valid"),i&&(this.fieldErrorTimeOut=setTimeout((function(){s.hideError(e),clearTimeout(s.fieldErrorTimeOut)}),i))},hideError:function(t){t.removeClass("not-valid");var e=t.siblings(".error-message");e.text(""),e.removeClass("visible")},hideAllErrors:function(){clearTimeout(this.fieldErrorTimeOut);var t=this.investForm.find("input[type=text]"),e=this;t.each((function(){e.hideError(v()(this))}))},sumInvInput:function(){this.$store.dispatch("sumInvInput")}},mounted:function(){var t=this;this.investForm=v()("#invest-form"),this.$store.dispatch("init",this.investForm.find("input[name=sumInv]").get(0)),this.$store.dispatch("multInit",this.investForm.find("input[name=mult]").get(0));var e=v()("#invest-form-mult-slider"),s=[1,5,20,40];s.forEach((function(t){e.children(".slider-scale").append('<span class="slider-scale__item slider-scale__item_left_'+t+'">'+t+"</span>"),e.find(".slider-scale__item_left_"+t).css({left:100*(t-1)/39+"%"})})),e.slider({range:"min",value:40,min:1,max:40,step:1,slide:function(e,s){t.mult=String("$"+s.value)}}),v()(document).on("click",(function(t){v()(t.target).hasClass("invest-form__field-input_slider_mult")||v()(t.target).hasClass("invest-form-mult-slider-wrap")||e.parent(".invest-form-mult-slider-wrap").css("display","none")}))}},p=d,_=s("2877"),h=Object(_["a"])(p,m,c,!1,null,null,null),g=h.exports,k=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"invest-form__limits invest-form__limits_hidden"},[t._m(0),s("div",{staticClass:"invest-form__limits-block"},[s("div",{staticClass:"invest-form__row"},[t._m(1),s("div",{staticClass:"invest-form__right-col invest-form__right-col_left"},[s("span",{staticClass:"invest-form__limit-type"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.limitType,expression:"limitType"}],staticClass:"invest-form__limits-radio",attrs:{type:"radio",name:"limitType",value:"percent"},domProps:{checked:t._q(t.limitType,"percent")},on:{change:[function(e){t.limitType="percent"},t.limitsChangeUnit]}}),t._v(" "),s("span",[t._v("%")])]),s("span",{staticClass:"invest-form__limit-type"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.limitType,expression:"limitType"}],staticClass:"invest-form__limits-radio",attrs:{type:"radio",name:"limitType",value:"dollar"},domProps:{checked:t._q(t.limitType,"dollar")},on:{change:[function(e){t.limitType="dollar"},t.limitsChangeUnit]}}),t._v(" "),s("span",[t._v("$")])])])]),s("div",{staticClass:"invest-form__row"},[s("div",{staticClass:"invest-form__left-col"},[s("label",[s("span",{staticClass:"invest-form__col-name"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.takeProfitCheck,expression:"takeProfitCheck"}],staticClass:"invest-form__limit-checkbox",attrs:{type:"checkbox","data-name":"takeProfit"},domProps:{checked:Array.isArray(t.takeProfitCheck)?t._i(t.takeProfitCheck,null)>-1:t.takeProfitCheck},on:{change:[function(e){var s=t.takeProfitCheck,i=e.target,r=!!i.checked;if(Array.isArray(s)){var n=null,o=t._i(s,n);i.checked?o<0&&(t.takeProfitCheck=s.concat([n])):o>-1&&(t.takeProfitCheck=s.slice(0,o).concat(s.slice(o+1)))}else t.takeProfitCheck=r},t.limitsDefaultVals]}}),t._v(" Прибыль ")])])]),s("div",{staticClass:"invest-form__right-col"},[s("div",{staticClass:"invest-form__field-val invest-form__field-val_limit invest-form__field-val_invest",class:{"invest-form__field-val_disabled":!t.takeProfitCheck}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.takeProfit,expression:"takeProfit"}],staticClass:"invest-form__field-input invest-form__field-input_limit-counter",attrs:{type:"text",name:"takeProfit",disabled:!t.takeProfitCheck},domProps:{value:t.takeProfit},on:{input:function(e){e.target.composing||(t.takeProfit=e.target.value)}}}),s("div",{staticClass:"invest-form__counter-buttons",class:{"invest-form__counter-buttons_disabled":!t.takeProfitCheck},attrs:{"data-name":"takeProfit"}},[s("div",{staticClass:"invest-form__counter-button invest-form__counter-button_top"}),s("div",{staticClass:"invest-form__counter-button invest-form__counter-button_bottom"})]),s("div",{staticClass:"error-message"})])])]),s("div",{staticClass:"invest-form__row"},[s("div",{staticClass:"invest-form__left-col"},[s("label",[s("span",{staticClass:"invest-form__col-name"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.stopLossCheck,expression:"stopLossCheck"}],staticClass:"invest-form__limit-checkbox",attrs:{type:"checkbox","data-name":"stopLoss"},domProps:{checked:Array.isArray(t.stopLossCheck)?t._i(t.stopLossCheck,null)>-1:t.stopLossCheck},on:{change:[function(e){var s=t.stopLossCheck,i=e.target,r=!!i.checked;if(Array.isArray(s)){var n=null,o=t._i(s,n);i.checked?o<0&&(t.stopLossCheck=s.concat([n])):o>-1&&(t.stopLossCheck=s.slice(0,o).concat(s.slice(o+1)))}else t.stopLossCheck=r},t.limitsDefaultVals]}}),t._v(" Убыток ")])])]),s("div",{staticClass:"invest-form__right-col"},[s("div",{staticClass:"invest-form__field-val invest-form__field-val_limit invest-form__field-val_invest",class:{"invest-form__field-val_disabled":!t.stopLossCheck}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.stopLoss,expression:"stopLoss"}],staticClass:"invest-form__field-input invest-form__field-input_limit-counter",attrs:{type:"text",name:"stopLoss",disabled:!t.stopLossCheck},domProps:{value:t.stopLoss},on:{input:function(e){e.target.composing||(t.stopLoss=e.target.value)}}}),s("div",{staticClass:"invest-form__counter-buttons",class:{"invest-form__counter-buttons_disabled":!t.stopLossCheck},attrs:{"data-name":"stopLoss"}},[s("div",{staticClass:"invest-form__counter-button invest-form__counter-button_top"}),s("div",{staticClass:"invest-form__counter-button invest-form__counter-button_bottom"})]),s("div",{staticClass:"error-message"})])])])])])},P=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"invest-form__limits-toggle"},[s("span",{staticClass:"profit-loss-limits__toggle-icon"}),t._v(" "),s("span",{staticClass:"profit-loss-limits__toggle-text"},[t._v("Ограничить прибыль и убыток")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"invest-form__left-col"},[s("span",{staticClass:"invest-form__col-name"},[t._v("Ограничения в")])])}],C=(s("b0c0"),{name:"LimitsBlock",data:function(){return{oldLimitType:this.$store.getters.limitTypeVal,takeProfitCheck:!1,stopLossCheck:!1,sumInv:Number(this.$store.getters.fieldVal.replace(/[^0-9+]/g,"")),counterInterval:null}},computed:{limitType:{get:function(){return this.$store.getters.limitTypeVal},set:function(t){this.$store.commit("setLimitType",t)}},takeProfit:{get:function(){var t=v()("#invest-form").find("input[name=takeProfit]");return this.hideError(t),this.$store.getters.takeProfitField.result.valid||this.showError(this.$store.getters.takeProfitField,t,4e3),this.$store.getters.takeProfitVal},set:function(t){this.$store.commit("takeProfitHideError");v()("#invest-form").find("input[name=takeProfit]");var e=Number(this.$store.getters.fieldVal.replace(/[^0-9+]/g,""));this.$store.commit("takeProfitSetVal",{value:t,sumInv:e})}},stopLoss:{get:function(){var t=v()("#invest-form").find("input[name=stopLoss]");return this.hideError(t),this.$store.getters.stopLossField.result.valid||this.showError(this.$store.getters.stopLossField,t,4e3),this.$store.getters.stopLossVal},set:function(t){this.$store.commit("stopLossHideError");var e=Number(this.$store.getters.fieldVal.replace(/[^0-9+]/g,""));this.$store.commit("stopLossSetVal",{value:t,sumInv:e})}}},methods:{limitsChangeUnit:function(){var t=v()("#invest-form"),e=this.oldLimitType;this.oldLimitType=this.limitType;var s=this.limitType;this.$store.commit("takeProfitChangeUnit",{limitType:s}),this.$store.commit("stopLossChangeUnit",{limitType:s});var i=t.find(".invest-form__field-val_limit");i.each((function(){v()(this).removeClass("invest-form__field-val_"+e),v()(this).addClass("invest-form__field-val_"+s)}))},limitsDefaultVals:function(t){var e=Number(this.$store.getters.fieldVal.replace(/[^0-9+]/g,"")),s=t.target.dataset.name+"SetDefault";if("takeProfit"===t.target.dataset.name){var i=this.takeProfitCheck;this.$store.commit(s,{sumInv:e,takeProfitCheck:i})}if("stopLoss"===t.target.dataset.name){var r=this.stopLossCheck;this.$store.commit(s,{sumInv:e,stopLossCheck:r})}},showError:function(t,e){var s=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.hideAllErrors();var r=e.siblings(".error-message");r.html(t.result.error),r.addClass("visible"),e.addClass("not-valid"),i&&(this.fieldErrorTimeOut=setTimeout((function(){s.hideError(e),clearTimeout(s.fieldErrorTimeOut)}),i))},hideError:function(t){t.removeClass("not-valid");var e=t.siblings(".error-message");e.text(""),e.removeClass("visible"),this.$store.state.takeProfit.result},hideAllErrors:function(){clearTimeout(this.fieldErrorTimeOut);var t=v()("#invest-form").find("input[type=text]"),e=this;t.each((function(){e.hideError(v()(this))}))}},mounted:function(){var t=this,e=v()("#invest-form").find(".invest-form__limits"),s=e.children(".invest-form__limits-toggle");s.on("click",(function(){e.hasClass("invest-form__limits_visible")?(e.removeClass("invest-form__limits_visible"),e.addClass("invest-form__limits_hidden")):(e.removeClass("invest-form__limits_hidden"),e.addClass("invest-form__limits_visible"))}));var i=this.sumInv,r=v()("#invest-form").find("input[name=takeProfit]"),n=v()("#invest-form").find("input[name=stopLoss]");this.$store.dispatch("takeProfitInit",{sumInv:i,takeProfitInput:r}),this.$store.dispatch("stopLossInit",{sumInv:i,stopLossInput:n});var o=v()(".invest-form__counter-buttons"),a=this;o.children(".invest-form__counter-button_top").on("mousedown",(function(t){if(!v()(this).parent().hasClass("invest-form__counter-buttons_disabled")){var e=v()(this).parent().get(0).dataset.name,s=e+"CounterAdd",i=Number(a.$store.getters.fieldVal.replace(/[^0-9+]/g,""));a.$store.commit(s,{sumInv:i}),a.counterInterval=setInterval((function(){a.$store.commit(s,{sumInv:i})}),300)}})),o.children(".invest-form__counter-button_bottom").on("mousedown",(function(){if(!v()(this).parent().hasClass("invest-form__counter-buttons_disabled")){var t=v()(this).parent().get(0).dataset.name,e=t+"CounterReduce",s=Number(a.$store.getters.fieldVal.replace(/[^0-9+]/g,""));a.$store.commit(e,{sumInv:s}),a.counterInterval=setInterval((function(){a.$store.commit(e,{sumInv:s})}),300)}})),o.children(".invest-form__counter-button_top").on("mouseup mouseleave",(function(){clearInterval(t.counterInterval)})),o.children(".invest-form__counter-button_bottom").on("mouseup mouseleave",(function(){clearInterval(t.counterInterval)}))}}),b=C,L=(s("a31b"),Object(_["a"])(b,k,P,!1,null,null,null)),I=L.exports,y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"invest-form__buttons"},[s("div",{staticClass:"invest-form__left-col"},[s("div",{staticClass:"invest-form__btn invest-form__btn_reduction",attrs:{"data-val":"reduction"},on:{click:t.sendForm}},[s("span",{staticClass:"invest-form__btn-icon invest-form__btn-icon_reduction"}),s("span",{staticClass:"invest-form__btn-text"},[t._v("В снижение")])])]),s("div",{staticClass:"invest-form__right-col"},[s("div",{staticClass:"invest-form__btn invest-form__btn_growth",attrs:{"data-val":"growth"},on:{click:t.sendForm}},[s("span",{staticClass:"invest-form__btn-icon invest-form__btn-icon_growth"}),s("span",{staticClass:"invest-form__btn-text"},[t._v("В рост")])])])])},$=[],E={name:"LimitsBlock",computed:{},methods:{sendForm:function(t){var e={data:{sumInv:Number(this.$store.getters.fieldVal.replace(/[^0-9+]/g,"")),mult:Number(this.$store.getters.multVal.replace(/[^0-9+]/g,"")),direction:t.currentTarget.dataset.val},unit:this.$store.getters.takeProfitField.unit};this.$store.getters.takeProfitField.value&&(e.data.takeProfit=Number(this.$store.getters.takeProfitField.value.replace(/[^0-9+]/g,""))),this.$store.getters.stopLossField.value&&(e.data.stopLoss=Number(this.$store.getters.stopLossField.value.replace(/[^0-9+]/g,""))),this.$store.dispatch("sendForm",e)}},mounted:function(){}},x=E,T=(s("f461"),Object(_["a"])(x,y,$,!1,null,null,null)),F=T.exports,w={name:"InvestForm",components:{InvestSum:g,LimitBlock:I,Buttons:F}},V=w,S=(s("fa9d"),Object(_["a"])(V,l,u,!1,null,null,null)),N=S.exports,M={name:"MainLayout",components:{InvestForm:N}},O=M,j=(s("f6a7"),Object(_["a"])(O,o,a,!1,null,null,null)),A=j.exports,D={computed:{layout:function(){return"MainLayout"}},components:{MainLayout:A}},R=D,U=Object(_["a"])(R,r,n,!1,null,null,null),B=U.exports,H=s("2f62"),K=s("d4ec"),q=s("bee2"),J=s("23d1"),z=s.n(J);function G(t){return(0^t)===t}var Q=function(){function t(){Object(K["a"])(this,t),this.result={valid:!0,error:"",position:null}}return Object(q["a"])(t,[{key:"init",value:function(t,e){var s=this,i=new z.a({regex:"([0-9 ]+)",placeholder:""});i.mask(t),this.result.value=e.value,t.onblur=function(t){var e=t.target.value.replace(/[^0-9+]/g,""),i=Number(e),r=String(i);s.result.value=r}}},{key:"getResult",value:function(){return this.result}},{key:"inputFormatField",value:function(t,e){var s=e.value,i=s.replace(/[^0-9+]/g,""),r=String(e.result.value),n={valid:!0,error:""},o=this.inputValidate(i,e.inputValidateParams);o.result?n.value=s:(n.valid=!1,n.error=o.error,n.value=r),this.result=n}},{key:"inputValidate",value:function(t,e){var s={result:!0,error:""};return G(Number(t))?"number"===typeof e.max&&Number(t)>e.max?{result:!1,error:e.maxError}:s:{result:!1,error:"Допустимы только целые числа"}}},{key:"formatNum",value:function(t){return t=t.replace(/[^0-9+]/g,""),t.replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,"$1 ")}}]),t}(),W=Q,X=new W,Y={state:{field:{value:"",defaultValue:"5000",name:"sumInv",error:{result:!1,error:""},inputValidateParams:{type:"num",min:0,max:2e5,maxError:'Максимальная сумма инвестиции: <span class="error-message__value">$ 200 000</span>'},lastKey:null,result:{valid:!0}}},getters:{fieldVal:function(t){return t.field.value},getField:function(t){return t.field},defaultVal:function(t){return t.field.defaultValue}},mutations:{setValue:function(t,e){t.field.value=e},formatField:function(t,e){t.field.value=e.value,X.inputFormatField(e.thisInput,t.field),t.field.result=X.getResult(),t.field.value=t.field.result.value},initField:function(t,e){X.init(e,t.field),t.field.result=X.getResult(),t.field.value=t.field.result.value},sumInvError:function(t,e){t.field.result.valid=!1,t.field.result.error=e}},actions:{init:function(t,e){var s=t.commit,i=t.getters;s("setValue",i.defaultVal),s("initField",e)},sumInvInput:function(t){var e=t.state,s=t.commit,i=Number(e.field.value.replace(/[^0-9+]/g,""));s("setLimitsTakeProfit",i),s("setLimitsStopLoss",i)}}},Z=(s("7cf7"),s("401c"),new W),tt={state:{field:{name:"mult",value:"",defaultValue:"40",inputValidateParams:{type:"num",min:0,max:99,maxError:'Максимальное значение мультипликатора: <span class="error-message__value">× 99</span>'},lastKey:null,result:{valid:!0},sendValidate:{min:1,max:40}}},getters:{multVal:function(t){return t.field.value},multField:function(t){return t.field},multDefaultVal:function(t){return t.field.defaultValue}},mutations:{multValue:function(t,e){t.field.value=e},multFormatField:function(t,e){t.field.value=e.value,Z.inputFormatField(e.thisInput,t.field),t.field.result=Z.getResult(),t.field.value=t.field.result.value},multInitField:function(t,e){Z.init(e,t.field),t.field.result=Z.getResult(),t.field.value=t.field.result.value,e.oninput=function(){v()("#invest-form-mult-slider").slider("value",Number(t.field.value.replace(/[^0-9+]/g,"")))},e.onfocus=function(){v()("#invest-form-mult-slider").parent(".invest-form-mult-slider-wrap").css("display","block")}},multError:function(t,e){t.field.result.valid=!1,t.field.result.error=e}},actions:{multInit:function(t,e){var s=t.commit,i=t.getters;s("multValue",i.multDefaultVal),s("multInitField",e)}}},et=(new W,{state:{limitTypes:{name:"limitType",type:"radio",value:"dollar",inputValidateParams:{type:"radio"},elements:[{name:"dollar",value:"dollar",checked:!0},{name:"percent",value:"percent",checked:!1}]}},getters:{limitTypeVal:function(t){return t.limitTypes.value},limitTypes:function(t){return t.limitTypes}},mutations:{setLimitType:function(t,e){t.limitTypes.value=e},limitsChangeUnit:function(t,e){var s=t.limitTypes.value;e.input.is(":checked")&&(t.limitTypes.value=e.input.val());var i=this.investForm.find(".invest-form__field-val_limit");if(i.each((function(){v()(this).removeClass("invest-form__field-val_"+s),v()(this).addClass("invest-form__field-val_"+field.value)})),"dollar"===t.limitTypes.value)this.investForm.find("input[name=takeProfit]").val(this.fields.takeProfit.value),this.investForm.find("input[name=stopLoss]").val(this.fields.stopLoss.value);else{var r=String(Math.round(100*this.fields.takeProfit.percent)),n=String(Math.round(100*this.fields.stopLoss.percent));this.investForm.find("input[name=takeProfit]").val(this.formatNum(r)),this.investForm.find("input[name=stopLoss]").val(this.formatNum(n))}}},actions:{init:function(t,e){t.commit,t.getters}}}),st=void 0,it={state:{takeProfit:{name:"takeProfit",value:"0",percent:0,defaultPercent:.3,unit:"dollar",counterInterval:null,inputValidateParams:{counter:!0,type:"num",min:0},lastKey:null,result:{valid:!0},sendValidate:{minPercent:10,percentError:'Не может быть меньше <span class="error-message__value">10%</span>',dollarError:function(){var t=Number(st.fields.sumInv.value.replace(/[^0-9+]/g,""));return'Не может быть меньше <span class="error-message__value">$ '+.1*t+"</span>"}}}},getters:{takeProfitVal:function(t){return"dollar"===t.takeProfit.unit?t.takeProfit.value:String(Math.round(100*t.takeProfit.percent))},takeProfitField:function(t){return t.takeProfit}},mutations:{takeProfitSetVal:function(t,e){"dollar"===t.takeProfit.unit?(t.takeProfit.value=e.value,t.takeProfit.percent=Math.round(100*Number(t.takeProfit.value.replace(/[^0-9+]/g,""))/e.sumInv)/100):(t.takeProfit.percent=Number(val)/100,t.takeProfit.value=String(Math.round(e.sumInv*t.takeProfit.percent)))},takeProfitSetDefault:function(t,e){e.takeProfitCheck?(t.takeProfit.value=String(e.sumInv*t.takeProfit.defaultPercent),t.takeProfit.percent=t.takeProfit.defaultPercent):(t.takeProfit.value=0,t.takeProfit.percent=0)},takeProfitCounterAdd:function(t,e){"dollar"===t.takeProfit.unit?(t.takeProfit.value=String(Number(t.takeProfit.value.replace(/[^0-9+]/g,""))+1),t.takeProfit.percent=Math.round(100*Number(t.takeProfit.value.replace(/[^0-9+]/g,""))/e.sumInv)/1e4):(t.takeProfit.percent=(Math.round(100*t.takeProfit.percent)+1)/100,t.takeProfit.value=String(Math.round(e.sumInv*t.takeProfit.percent)))},takeProfitCounterReduce:function(t,e){if("dollar"===t.takeProfit.unit){var s=Number(t.takeProfit.value.replace(/[^0-9+]/g,""));s>=1&&(t.takeProfit.value=String(s-1),t.takeProfit.percent=Math.round(100*(s-1)/e.sumInv)/100)}else{var i=Math.round(100*t.takeProfit.percent);i>=1&&(t.takeProfit.percent=(i-1)/100,t.takeProfit.value=String(Math.round(e.sumInv*t.takeProfit.percent)))}},takeProfitChangeUnit:function(t,e){t.takeProfit.unit=e.limitType},setLimitsTakeProfit:function(t,e){if("dollar"===t.takeProfit.unit){var s=Number(String(t.takeProfit.value).replace(/[^0-9+]/g,""));t.takeProfit.percent=Math.round(100*s/e)/100}else t.takeProfit.value=String(Math.round(e*t.takeProfit.percent))},takeProfitError:function(t,e){t.takeProfit.result.valid=!1,t.takeProfit.result.error=e},takeProfitHideError:function(t){t.takeProfit.result={valid:!0}}},actions:{takeProfitInit:function(t,e){var s=t.commit,i=(t.getters,new z.a({regex:"([0-9 ]+)",placeholder:""}));i.mask(e.takeProfitInput.get(0)),s("takeProfitSetDefault",e.sumInv)}}},rt=void 0,nt=new W,ot={state:{stopLoss:{name:"stopLoss",value:"0",percent:0,defaultPercent:.3,unit:"dollar",disabled:!0,counterInterval:null,inputValidateParams:{counter:!0,type:"num",min:0},lastKey:null,result:{valid:!0},sendValidate:{minPercent:10,percentError:'Не может быть меньше <span class="error-message__value">10%</span>',dollarError:function(){var t=Number(rt.fields.sumInv.value.replace(/[^0-9+]/g,""));return'Не может быть меньше <span class="error-message__value">$ '+.1*t+"</span>"}}}},getters:{stopLossVal:function(t){return"dollar"===t.stopLoss.unit?t.stopLoss.value:String(Math.round(100*t.stopLoss.percent))},stopLossField:function(t){return t.stopLoss}},mutations:{stopLossSetVal:function(t,e){"dollar"===t.stopLoss.unit?(t.stopLoss.value=e.value,t.stopLoss.percent=Math.round(100*Number(t.stopLoss.value.replace(/[^0-9+]/g,""))/e.sumInv)/100):(t.stopLoss.percent=Number(e.value.replace(/[^0-9+]/g,""))/100,t.stopLoss.value=String(Math.round(e.sumInv*t.stopLoss.percent)))},stopLossSetDefault:function(t,e){e.stopLossCheck?(t.stopLoss.value=String(e.sumInv*t.stopLoss.defaultPercent),t.stopLoss.percent=t.stopLoss.defaultPercent):(t.stopLoss.value=0,t.stopLoss.percent=0)},stopLossCounterAdd:function(t,e){"dollar"===t.stopLoss.unit?(t.stopLoss.value=String(Number(t.stopLoss.value.replace(/[^0-9+]/g,""))+1),t.stopLoss.percent=Math.round(100*Number(t.stopLoss.value.replace(/[^0-9+]/g,""))/e.sumInv)/100):(t.stopLoss.percent=(Math.round(100*t.stopLoss.percent)+1)/100,t.stopLoss.value=String(Math.round(e.sumInv*t.stopLoss.percent)))},stopLossCounterReduce:function(t,e){if("dollar"===t.stopLoss.unit){var s=Number(t.stopLoss.value.replace(/[^0-9+]/g,""));s>=1&&(t.stopLoss.value=String(s-1),t.stopLoss.percent=Math.round(100*(s-1)/e.sumInv)/100)}else{var i=Math.round(100*t.stopLoss.percent);i>=1&&(t.stopLoss.percent=(i-1)/100,t.stopLoss.value=String(Math.round(e.sumInv*t.stopLoss.percent)))}},stopLossChangeUnit:function(t,e){t.stopLoss.unit=e.limitType},setLimitsStopLoss:function(t,e){if("dollar"===t.stopLoss.unit){var s=Number(String(t.stopLoss.value).replace(/[^0-9+]/g,""));t.stopLoss.percent=Math.round(100*s/e)/100}else t.stopLoss.value=String(Math.round(e*t.stopLoss.percent))},stopLossError:function(t,e){t.stopLoss.result.valid=!1,t.stopLoss.result.error=e},initStopLoss:function(t,e){nt.init(e,t.field),t.field.result=nt.getResult(),t.field.value=t.field.result.value},stopLossHideError:function(t){t.stopLoss.result={valid:!0}}},actions:{stopLossInit:function(t,e){var s=t.commit,i=(t.getters,new z.a({regex:"([0-9 ]+)",placeholder:""}));i.mask(e.stopLossInput.get(0)),s("stopLossSetDefault",e.sumInv)}}},at={state:{rules:{sumInv:{min:100,max:2e5,errorMin:'Минимальная сумма инвестиции: <span class="error-message__value">$ 100</span>',errorMax:'Максимальная сумма инвестиции: <span class="error-message__value">$ 200 000</span>'},mult:{min:1,max:40,error:"Неверное значение мультипликатора"},takeProfit:{min:.1},stopLoss:{max:1}}},getters:{},mutations:{},actions:{sendForm:function(t,e){var s=t.state,i=t.commit,r=!0;e.data.sumInv<s.rules.sumInv.min&&(r=!1,i("sumInvError",s.rules.sumInv.errorMin)),e.data.sumInv>s.rules.sumInv.max&&(r=!1,i("sumInvError",s.rules.sumInv.errorMax)),(e.data.mult<s.rules.mult.min||e.data.mult>s.rules.mult.max)&&(r=!1,i("multError",s.rules.mult.error));var n=e.unit;if(e.data.takeProfit){var o=e.data.sumInv*s.rules.takeProfit.min;e.data.takeProfit<o&&(r=!1,i("takeProfitError","dollar"===n?"Не может быть меньше $ "+o:"Не может быть меньше 10%"))}if(e.data.stopLoss){var a=e.data.sumInv*s.rules.stopLoss.max;e.data.stopLoss>a&&(r=!1,i("stopLossError","dollar"===n?"Не может быть больше $ "+a:"Не может быть больше 100%"))}if(r){console.log(e.data)}}}};i["a"].use(H["a"]);var lt=new H["a"].Store({state:{},mutations:{},actions:{},modules:{sumInv:Y,mult:tt,limitTypes:et,takeProfit:it,stopLoss:ot,buttons:at}});i["a"].config.productionTip=!1,new i["a"]({store:lt,render:function(t){return t(B)}}).$mount("#app")},6262:function(t,e,s){},7548:function(t,e,s){},"993a":function(t,e,s){},a31b:function(t,e,s){"use strict";var i=s("993a"),r=s.n(i);r.a},db88:function(t,e,s){},f461:function(t,e,s){"use strict";var i=s("7548"),r=s.n(i);r.a},f6a7:function(t,e,s){"use strict";var i=s("db88"),r=s.n(i);r.a},fa9d:function(t,e,s){"use strict";var i=s("6262"),r=s.n(i);r.a}});
//# sourceMappingURL=app.8c797b0d.js.map